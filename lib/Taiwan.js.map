{"version":3,"file":"Taiwan.js","names":["_Calendars","_interopRequireWildcard","require","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_defineProperty","_toPropertyKey","value","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","defaultLocalisation","name","epochs","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","dateFormat","firstDay","isRTL","TaiwanCalendar","CalendarBase","constructor","language","arguments","length","undefined","localisations","leapYear","yearOrDate","y","CDate","validate","Calendars","local","invalidYear","minMonth","minDay","gregorian","taiwanToGregorianYear","weekOfYear","month","day","m","d","daysInMonth","invalidMonth","notDay","daysPerMonth","weekDay","dow","dayOfWeek","toJD","invalidDate","fromJD","jd","date","gregorianToTaiwanYear","year","yearsOffset","exports","instance","register"],"sources":["../src/Taiwan.ts"],"sourcesContent":["/* http://keith-wood.name/worldCalendars.html\r\n   Implementation of the Taiwanese calendar.\r\n   See http://en.wikipedia.org/wiki/Minguo_calendar.\r\n   Written by Keith Wood (kbwood.au{at}gmail.com) May 2022.\r\n   Available under the MIT (http://keith-wood.name/licence.html) license.\r\n   Please attribute the author if you use it. */\r\n\r\nimport Calendars, { CalendarBase, CDate } from './Calendars'\r\nimport './Gregorian'\r\nimport type { CalendarLocalisation, RegionalLocalisations } from './Calendars'\r\n\r\nconst defaultLocalisation: CalendarLocalisation = {\r\n  name: 'Taiwan',\r\n  epochs: ['BROC', 'ROC'],\r\n  monthNames: ['January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'],\r\n  monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n  dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n  dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n  dayNamesMin: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n  dateFormat: 'yyyy/mm/dd',\r\n  firstDay: 1,\r\n  isRTL: false\r\n}\r\n\r\nclass TaiwanCalendar extends CalendarBase {\r\n  // Localisations for the plugin.\r\n  // Entries are objects indexed by the language code ('' being the default US/English). */\r\n  static localisations: RegionalLocalisations = { '': defaultLocalisation }\r\n  static gregorian: CalendarBase = Calendars.instance('gregorian')\r\n  static readonly yearsOffset: number = 1911\r\n\r\n  constructor (language: string = '') {\r\n    // Julian date of start of Taiwan epoch: 1 January 1912 CE (Gregorian)\r\n    super('Taiwan', 2419402.5, TaiwanCalendar.localisations, language,\r\n      [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31])\r\n  }\r\n\r\n  // Determine whether this date is in a leap year.\r\n  leapYear(date: CDate): boolean;\r\n  leapYear(year: number): boolean;\r\n  leapYear (yearOrDate: CDate | number): boolean {\r\n    const [y] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidYear, yearOrDate, this.minMonth, this.minDay)\r\n    return TaiwanCalendar.gregorian.leapYear(this.taiwanToGregorianYear(y))\r\n  }\r\n\r\n  // Determine the week of the year for a date - ISO 8601.\r\n  weekOfYear(date: CDate): number;\r\n  weekOfYear(year: number, month: number, day: number): number;\r\n  weekOfYear (yearOrDate: CDate | number, month?: number, day?: number): number {\r\n    const [y, m, d] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidYear, yearOrDate, month as number, day as number)\r\n    return TaiwanCalendar.gregorian.weekOfYear(this.taiwanToGregorianYear(y), m, d)\r\n  }\r\n\r\n  // Retrieve the number of days in a month.\r\n  daysInMonth(date: CDate): number;\r\n  daysInMonth(year: number, month: number): number;\r\n  daysInMonth (yearOrDate: CDate | number, month?: number): number {\r\n    const [y, m] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidMonth, yearOrDate, month as number, this.minDay, { notDay: true })\r\n    return this.daysPerMonth[m - 1] + (m === 2 && this.leapYear(y) ? 1 : 0)\r\n  }\r\n\r\n  // Determine whether this date is a week day.\r\n  weekDay(date: CDate): boolean;\r\n  weekDay(year: number, month: number, day: number): boolean;\r\n  weekDay (yearOrDate: CDate | number, month?: number, day?: number): boolean {\r\n    const dow = yearOrDate instanceof CDate\r\n      ? this.dayOfWeek(yearOrDate)\r\n      : this.dayOfWeek(yearOrDate, month as number, day as number)\r\n    return (dow || 7) < 6\r\n  }\r\n\r\n  // Retrieve the Julian day number equivalent for this date, i.e. days since January 1, 4713 BCE Greenwich noon.\r\n  toJD(date: CDate): number;\r\n  toJD(year: number, month: number, day: number): number;\r\n  toJD (yearOrDate: CDate | number, month?: number, day?: number): number {\r\n    const [y, m, d] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidDate, yearOrDate, month as number, day as number)\r\n    return TaiwanCalendar.gregorian.toJD(this.taiwanToGregorianYear(y), m, d)\r\n  }\r\n\r\n  // Create a new date from a Julian day number.\r\n  fromJD (jd: number): CDate {\r\n    const date = TaiwanCalendar.gregorian.fromJD(jd)\r\n    return this.date(this.gregorianToTaiwanYear(date.year()), date.month(), date.day())\r\n  }\r\n\r\n  // Convert Taiwan to Gregorian year.\r\n  private taiwanToGregorianYear (year: number): number {\r\n    return year + TaiwanCalendar.yearsOffset + (year >= -TaiwanCalendar.yearsOffset && year <= -1 ? 1 : 0)\r\n  }\r\n\r\n  // Convert Gregorian to Taiwan year.\r\n  private gregorianToTaiwanYear (year: number): number {\r\n    return year - TaiwanCalendar.yearsOffset - (year >= 1 && year <= TaiwanCalendar.yearsOffset ? 1 : 0)\r\n  }\r\n}\r\n\r\nCalendars.register('taiwan', TaiwanCalendar)\r\n\r\nexport { TaiwanCalendar }\r\n"],"mappings":"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","ignoreList":[]}