{"version":3,"file":"Hebrew.js","names":["_Calendars","_interopRequireWildcard","require","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_defineProperty","_toPropertyKey","value","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","defaultLocalisation","name","epochs","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","dateFormat","firstDay","isRTL","mod","a","b","Math","floor","HebrewCalendar","CalendarBase","constructor","language","arguments","length","undefined","localisations","leapYear","yearOrDate","y","CDate","validate","Calendars","local","invalidYear","minMonth","minDay","isLeapYear","monthsInYear","notDay","notMonth","daysInYear","toJD","daysInMonth","month","m","invalidMonth","daysPerMonth","weekDay","day","dow","dayOfWeek","extraInfo","_","yearType","concat","d","invalidDate","adjYear","jd","jdEpoch","delay1","delay2","mn","fromJD","year","date","months","parts","last","present","next","exports","register"],"sources":["../src/Hebrew.ts"],"sourcesContent":["/* http://keith-wood.name/worldCalendars.html\r\n   Implementation of the Hebrew civil calendar.\r\n   Based on code from http://www.fourmilab.ch/documents/calendar/.\r\n   See also http://en.wikipedia.org/wiki/Hebrew_calendar.\r\n   Written by Keith Wood (kbwood.au{at}gmail.com) May 2022.\r\n   Available under the MIT (http://keith-wood.name/licence.html) license.\r\n   Please attribute the author if you use it. */\r\n\r\nimport Calendars, { CalendarBase, CDate } from './Calendars'\r\nimport type { CalendarLocalisation, RegionalLocalisations } from './Calendars'\r\n\r\nconst defaultLocalisation: CalendarLocalisation = {\r\n  name: 'Hebrew',\r\n  epochs: ['BAM', 'AM'],\r\n  monthNames: ['Nisan', 'Iyar', 'Sivan', 'Tammuz', 'Av', 'Elul',\r\n    'Tishrei', 'Cheshvan', 'Kislev', 'Tevet', 'Shevat', 'Adar', 'Adar II'],\r\n  monthNamesShort: ['Nis', 'Iya', 'Siv', 'Tam', 'Av', 'Elu', 'Tis', 'Che', 'Kis', 'Tev', 'She', 'Ada', 'Ad2'],\r\n  dayNames: ['Yom Rishon', 'Yom Sheni', 'Yom Shlishi', 'Yom Revi\\'i', 'Yom Chamishi', 'Yom Shishi', 'Yom Shabbat'],\r\n  dayNamesShort: ['Ris', 'She', 'Shl', 'Rev', 'Cha', 'Shi', 'Sha'],\r\n  dayNamesMin: ['Ri', 'She', 'Shl', 'Re', 'Ch', 'Shi', 'Sha'],\r\n  dateFormat: 'dd/mm/yyyy',\r\n  firstDay: 0,\r\n  isRTL: false\r\n}\r\n\r\n// Modulus function which works for non-integers.\r\nconst mod = (a: number, b: number): number => a - (b * Math.floor(a / b))\r\n\r\nclass HebrewCalendar extends CalendarBase {\r\n  // Localisations for the plugin.\r\n  // Entries are objects indexed by the language code ('' being the default US/English). */\r\n  static localisations: RegionalLocalisations = { '': defaultLocalisation }\r\n\r\n  constructor (language: string = '') {\r\n    // Julian date of start of Hebrew epoch: 7 October 3761 BCE (Gregorian).\r\n    super('Hebrew', 347995.5, HebrewCalendar.localisations, language,\r\n      [30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 30, 29, 29], 12, false, 1, 7, 1)\r\n  }\r\n\r\n  // Determine whether this date is in a leap year.\r\n  leapYear(date: CDate): boolean;\r\n  leapYear(year: number): boolean;\r\n  leapYear (yearOrDate: CDate | number): boolean {\r\n    let [y] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidYear, yearOrDate, this.minMonth, this.minDay)\r\n    if (y < 0) { y++ } // No year zero\r\n    return this.isLeapYear(y)\r\n  }\r\n\r\n  // Retrieve the number of months in a year.\r\n  monthsInYear (yearOrDate: CDate | number): number {\r\n    let [y] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidYear, yearOrDate, this.minMonth, this.minDay, { notDay: true, notMonth: true })\r\n    if (y < 0) { y++ } // No year zero\r\n    return this.isLeapYear(y) ? 13 : 12\r\n  }\r\n\r\n  // Retrieve the number of days in a year.\r\n  daysInYear (yearOrDate: CDate | number): number {\r\n    const [y] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidYear, yearOrDate, this.minMonth, this.minDay)\r\n    return this.toJD((y === -1 ? +1 : y + 1), 7, 1) - this.toJD(y, 7, 1)\r\n  }\r\n\r\n  // Retrieve the number of days in a month.\r\n  daysInMonth(date: CDate): number;\r\n  daysInMonth(year: number, month: number): number;\r\n  daysInMonth (yearOrDate: CDate | number, month?: number): number {\r\n    const [y, m] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidMonth, yearOrDate, month as number, this.minDay, { notDay: true })\r\n    if (m === 12 && this.leapYear(y)) {\r\n      // Adar I\r\n      return 30\r\n    }\r\n    if (m === 8 && mod(this.daysInYear(y), 10) === 5) {\r\n      // Cheshvan in shlemah year\r\n      return 30\r\n    }\r\n    if (m === 9 && mod(this.daysInYear(y), 10) === 3) {\r\n      // Kislev in chaserah year\r\n      return 29\r\n    }\r\n    return this.daysPerMonth[m - 1]\r\n  }\r\n\r\n  // Determine whether this date is a week day.\r\n  weekDay(date: CDate): boolean;\r\n  weekDay(year: number, month: number, day: number): boolean;\r\n  weekDay (yearOrDate: CDate | number, month?: number, day?: number): boolean {\r\n    const dow = yearOrDate instanceof CDate\r\n      ? this.dayOfWeek(yearOrDate)\r\n      : this.dayOfWeek(yearOrDate, month as number, day as number)\r\n    return dow !== 6\r\n  }\r\n\r\n  // Retrieve additional information about a date - contents depends on calendar.\r\n  extraInfo(date: CDate): Object;\r\n  extraInfo(year: number, month: number, day: number): Object;\r\n  extraInfo (yearOrDate: CDate | number, month?: number, _?: number): Object {\r\n    const [y] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidMonth, yearOrDate, month as number, this.minDay, { notDay: true })\r\n    return { yearType: `${this.leapYear(y) ? 'embolismic' : 'common'} ${['deficient', 'regular', 'complete'][this.daysInYear(y) % 10 - 3]}` }\r\n  }\r\n\r\n  // Retrieve the Julian day number equivalent for this date, i.e. days since January 1, 4713 BCE Greenwich noon.\r\n  toJD(date: CDate): number;\r\n  toJD(year: number, month: number, day: number): number;\r\n  toJD (yearOrDate: CDate | number, month?: number, day?: number): number {\r\n    const [y, m, d] = yearOrDate instanceof CDate\r\n      ? this.validate('', yearOrDate)\r\n      : this.validate(Calendars.local.invalidDate, yearOrDate, month as number, day as number)\r\n    const adjYear = y <= 0 ? y + 1 : y\r\n    let jd = this.jdEpoch + this.delay1(adjYear) + this.delay2(adjYear) + d + 1\r\n    if (m < 7) {\r\n      for (let mn = 7; mn <= this.monthsInYear(y); mn++) {\r\n        jd += this.daysInMonth(y, mn)\r\n      }\r\n      for (let mn = 1; mn < m; mn++) {\r\n        jd += this.daysInMonth(y, mn)\r\n      }\r\n    } else {\r\n      for (let mn = 7; mn < m; mn++) {\r\n        jd += this.daysInMonth(y, mn)\r\n      }\r\n    }\r\n    return jd\r\n  }\r\n\r\n  // Create a new date from a Julian day number.\r\n  fromJD (jd: number): CDate {\r\n    jd = Math.floor(jd) + 0.5\r\n    let year = Math.floor(((jd - this.jdEpoch) * 98496.0) / 35975351.0) - 1\r\n    while (jd >= this.toJD((year === -1 ? +1 : year + 1), 7, 1)) {\r\n      year++\r\n    }\r\n    let month = (jd < this.toJD(year, 1, 1)) ? 7 : 1\r\n    while (jd > this.toJD(year, month, this.daysInMonth(year, month))) {\r\n      month++\r\n    }\r\n    const day = jd - this.toJD(year, month, 1) + 1\r\n    return this.date(year, month, day)\r\n  }\r\n\r\n  // Test for delay of start of new year and to avoid Sunday, Wednesday, or Friday as start of the new year.\r\n  private delay1 (year: number): number {\r\n    const months = Math.floor((235 * year - 234) / 19)\r\n    const parts = 12084 + 13753 * months\r\n    let day = months * 29 + Math.floor(parts / 25920)\r\n    if (mod(3 * (day + 1), 7) < 3) {\r\n      day++\r\n    }\r\n    return day\r\n  }\r\n\r\n  // Check for delay in start of new year due to length of adjacent years.\r\n  private delay2 (year: number): number {\r\n    const last = this.delay1(year - 1)\r\n    const present = this.delay1(year)\r\n    const next = this.delay1(year + 1)\r\n    return ((next - present) === 356 ? 2 : ((present - last) === 382 ? 1 : 0))\r\n  }\r\n\r\n  // Determine whether this year is a leap year.\r\n  private isLeapYear (year: number): boolean {\r\n    return mod(year * 7 + 1, 19) < 7\r\n  }\r\n}\r\n\r\nCalendars.register('hebrew', HebrewCalendar)\r\n\r\nexport { HebrewCalendar }\r\n"],"mappings":"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","ignoreList":[]}